## 功能背景	

​	当open函数打开一个文件时，内核以进程的有效用户ID和有效组ID为基础执行其访问权限测试。进程希望用实际用户id和实际组id来测试其访问能力。acess和faccessat函数是按<u>实际用户ID和实际组ID</u>进行访问权限测试的



## 函数体

![image-20220401142908923](../image/image-20220401142908923.png)

​	如果测试文件是否已经存在，mode就为F_OK，否则是下列常量的按位或

![image-20220401143106132](../image/image-20220401143106132.png)

下列情况下两函数功能一样

1，path是绝对路径

2，fd位AT_FDCWD而path是相对路径



flag可以用于改变faccessat的行为，如flag设置为AT_EACCESS,访问检查用的是进程的有效用户ID和有效组ID，而不是实际用户ID和实际组ID。