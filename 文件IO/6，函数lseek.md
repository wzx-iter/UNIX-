## 功能：

​	显示地为一个打开的文件设置偏移量，lseek仅将当前的文件偏移量记录在内核中，它并不引起任何I/O操作。然后，该偏移量用于下一个读或取操作。



## 当前文件偏移量概念：

​	每个打开文件都有其相关联的“当前文件偏移量”，它通常是一个非负整数。用来度量从文件开始处计算的字节数。一般来说读写操作会在当前文件偏移量处开始，并每次操作一字节进行加一，在系统默认情况下，当前文件偏移量一般为0.



## 函数体

```c
#include <unistd.h>
off_t lseek(int fd, off_t offset, int whence);
		//若成功，返回新的文件偏移量，失败返回-1
```



## offset参数和whence参数之间的联系

· 若whence是SEEK_SET,则将该文件的偏移量设置为距文件开始处offset个字节。

·若whence是SEEK_CUR，则将该文件的偏移量设置为其当前值加上offset，offset可为正负。

·若whence是SEEK_END，则将该文件的偏移量设置为文件长度加上offset，offset可为正负。



## 文件偏移量可以大于当前文件长度

​	该文件下次写会加长文件，并在文件中构成一个空洞，文件中没写的字节读成0（文件末尾至新写数据这一段），空洞并不占用磁盘空间，但有数据的字节需要分配空间。

